<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>VirtualBox Main API: ISession Interface Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ISession Interface Reference</h1><!-- doxytag: class="ISession" -->The <a class="el" href="interface_i_session.html" title="The ISession interface represents a serialization primitive for virtual machines...">ISession</a> interface represents a serialization primitive for virtual machines.  
<a href="#_details">More...</a>
<p>

<p>
<a href="interface_i_session-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_session.html#51712fbe056c26b8c4861585960b379b">close</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Closes a session that was previously opened.  <a href="#51712fbe056c26b8c4861585960b379b"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">readonly attribute <a class="el" href="_virtual_box_8idl.html#c82c179a797c0d7c249d1b98a8e3aa8f">SessionState</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_session.html#ac4763cc59a693a81170ed9d1118d571">state</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Current state of this session.  <a href="#ac4763cc59a693a81170ed9d1118d571"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">readonly attribute <a class="el" href="_virtual_box_8idl.html#0695685c902e6c161ea20c244f605044">SessionType</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_session.html#c3ce0abc5951d6e244c456518d7574b1">type</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type of this session.  <a href="#c3ce0abc5951d6e244c456518d7574b1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">readonly attribute <a class="el" href="interface_i_machine.html">IMachine</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_session.html#83d8f53d35e522599b192cac168c3495">machine</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Machine object associated with this session.  <a href="#83d8f53d35e522599b192cac168c3495"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">readonly attribute <a class="el" href="interface_i_console.html">IConsole</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_session.html#9e36ef0b77cc8ef17fbe480f39492fad">console</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Console object associated with this session.  <a href="#9e36ef0b77cc8ef17fbe480f39492fad"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The <a class="el" href="interface_i_session.html" title="The ISession interface represents a serialization primitive for virtual machines...">ISession</a> interface represents a serialization primitive for virtual machines. 
<p>
With VirtualBox, every time one wishes to manipulate a virtual machine (e.g. change its settings or start execution), a session object is required. Such an object must be passed to one of the session methods that open the given session, which then initiates the machine manipulation.<p>
A session serves several purposes: it identifies to the inter-process VirtualBox code which process is currently working with the virtual machine, and it ensures that there are no incompatible requests from several processes for the same virtual machine. Session objects can therefore be thought of as mutex semaphores that lock virtual machines to prevent conflicting accesses from several processes.<p>
How sessions objects are used depends on whether you use the Main API via COM or via the webservice:<p>
<ul>
<li>
When using the COM API directly, an object of the Session class from the VirtualBox type library needs to be created. In regular COM C++ client code, this can be done by calling <code>createLocalObject()</code>, a standard COM API. This object will then act as a local session object in further calls to open a session.  </li>
<li>
In the webservice, the session manager (<a class="el" href="interface_i_websession_manager.html" title="Websession manager.">IWebsessionManager</a>) instead creates one session object automatically when <a class="el" href="interface_i_websession_manager.html#da0de436851fc0da29319592ca868294">IWebsessionManager::logon</a><b></b> is called. A managed object reference to that session object can be retrieved by calling <a class="el" href="interface_i_websession_manager.html#58378d2556023a16c40935222bab8452">IWebsessionManager::getSessionObject</a><b></b>. This session object reference can then be used to open sessions.  </li>
</ul>
<p>
Sessions are mainly used in two variations:<p>
<ul>
<li>
To start a virtual machine in a separate process, one would call <a class="el" href="interface_i_virtual_box.html#915f7609a00e888a15cbf74aef743bcc">IVirtualBox::openRemoteSession</a><b></b>, which requires a session object as its first parameter. This session then identifies the caller and lets him control the started machine (for example, pause machine execution or power it down) as well as be notified about machine execution state changes.  </li>
<li>
To alter machine settings, or to start machine execution within the current process, one needs to open a direct session for the machine first by calling <a class="el" href="interface_i_virtual_box.html#d0d6182a74ab014b2737817ee49788bc">IVirtualBox::openSession</a><b></b>. While a direct session is open within one process, no any other process may open another direct session for the same machine. This prevents the machine from being changed by other processes while it is running or while the machine is being configured.  </li>
</ul>
<p>
One also can attach to an existing direct session already opened by another process (for example, in order to send a control request to the virtual machine such as the pause or the reset request). This is done by calling <a class="el" href="interface_i_virtual_box.html#ad4d37379f33fd838e9dbe91e1f91a12">IVirtualBox::openExistingSession</a><b></b>.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Unless you are trying to write a new VirtualBox front-end that performs direct machine execution (like the VirtualBox or VBoxSDL front-ends), don't call <a class="el" href="interface_i_console.html#0191f0ffb739504065c05f6e33a65a7c">IConsole::powerUp</a><b></b> in a direct session opened by <a class="el" href="interface_i_virtual_box.html#d0d6182a74ab014b2737817ee49788bc">IVirtualBox::openSession</a><b></b> and use this session only to change virtual machine settings. If you simply want to start virtual machine execution using one of the existing front-ends (for example the VirtualBox GUI or headless server), simply use <a class="el" href="interface_i_virtual_box.html#915f7609a00e888a15cbf74aef743bcc">IVirtualBox::openRemoteSession</a><b></b>; these front-ends will power up the machine automatically for you.</dd></dl>
<dl class="user" compact><dt><b>Interface ID:</b></dt><dd><code>{12F4DCDB-12B2-4EC1-B7CD-DDD9F6C5BF4D}</code> </dd></dl>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="51712fbe056c26b8c4861585960b379b"></a><!-- doxytag: member="ISession::close" ref="51712fbe056c26b8c4861585960b379b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ISession::close           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes a session that was previously opened. 
<p>
It is recommended that every time an "open session" method (such as <a class="el" href="interface_i_virtual_box.html#915f7609a00e888a15cbf74aef743bcc">IVirtualBox::openRemoteSession</a><b></b> or <a class="el" href="interface_i_virtual_box.html#d0d6182a74ab014b2737817ee49788bc">IVirtualBox::openSession</a><b></b>) has been called to manipulate a virtual machine, the caller invoke <a class="el" href="interface_i_session.html#51712fbe056c26b8c4861585960b379b" title="Closes a session that was previously opened.">ISession::close()</a> when it's done doing so. Since sessions are serialization primitives much like ordinary mutexes, they are best used the same way: for each "open" call, there should be a matching "close" call, even when errors occur.<p>
Otherwise, if a direct session for a machine opened with <a class="el" href="interface_i_virtual_box.html#d0d6182a74ab014b2737817ee49788bc">IVirtualBox::openSession</a><b></b> is not explicitly closed when the application terminates, the state of the machine will be set to <a class="el" href="_virtual_box_8idl.html#80b08f71210afe16038e904a656ed9eb931466b6a20bc1e009437eb5956c7d46">MachineState_Aborted</a><b></b> on the server.<p>
Generally, it is recommended to close all open sessions explicitly before terminating the application (regardless of the reason for the termination).<p>
<dl class="user" compact><dt><b>Expected result codes:</b></dt><dd><table border="1" cellspacing="3" cellpadding="3">
<tr>
<td>E_UNEXPECTED </td><td>Session is not open.  </td></tr>
</table>
</dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Do not expect the session state (<a class="el" href="interface_i_session.html#ac4763cc59a693a81170ed9d1118d571">ISession::state</a><b></b> to return to "Closed" immediately after you invoke <a class="el" href="interface_i_session.html#51712fbe056c26b8c4861585960b379b" title="Closes a session that was previously opened.">ISession::close()</a>, particularly if you have started a remote session to execute the VM in a new process. The session state will automatically return to "Closed" once the VM is no longer executing, which can of course take a very long time. </dd></dl>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="ac4763cc59a693a81170ed9d1118d571"></a><!-- doxytag: member="ISession::state" ref="ac4763cc59a693a81170ed9d1118d571" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute <a class="el" href="_virtual_box_8idl.html#c82c179a797c0d7c249d1b98a8e3aa8f">SessionState</a> <a class="el" href="interface_i_session.html#ac4763cc59a693a81170ed9d1118d571">ISession::state</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Current state of this session. 
<p>

</div>
</div><p>
<a class="anchor" name="c3ce0abc5951d6e244c456518d7574b1"></a><!-- doxytag: member="ISession::type" ref="c3ce0abc5951d6e244c456518d7574b1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute <a class="el" href="_virtual_box_8idl.html#0695685c902e6c161ea20c244f605044">SessionType</a> <a class="el" href="interface_i_session.html#c3ce0abc5951d6e244c456518d7574b1">ISession::type</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Type of this session. 
<p>
The value of this attribute is valid only if the session is currently open (i.e. its <a class="el" href="interface_i_session.html#ac4763cc59a693a81170ed9d1118d571" title="Current state of this session.">state</a> is SessionType_SessionOpen), otherwise an error will be returned. 
</div>
</div><p>
<a class="anchor" name="83d8f53d35e522599b192cac168c3495"></a><!-- doxytag: member="ISession::machine" ref="83d8f53d35e522599b192cac168c3495" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute <a class="el" href="interface_i_machine.html">IMachine</a> <a class="el" href="interface_i_session.html#83d8f53d35e522599b192cac168c3495">ISession::machine</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Machine object associated with this session. 
<p>

</div>
</div><p>
<a class="anchor" name="9e36ef0b77cc8ef17fbe480f39492fad"></a><!-- doxytag: member="ISession::console" ref="9e36ef0b77cc8ef17fbe480f39492fad" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute <a class="el" href="interface_i_console.html">IConsole</a> <a class="el" href="interface_i_session.html#9e36ef0b77cc8ef17fbe480f39492fad">ISession::console</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Console object associated with this session. 
<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Jun 2 16:41:23 2010 for VirtualBox Main API by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
